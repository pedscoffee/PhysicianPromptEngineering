<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: " en" }}">

{%- include head.html -%}

<body>

  {%- include header.html -%}

  <main class="page-content" aria-label="Content">
    {{ content }}
  </main>

  {%- include cta-banner.html -%}
  {%- include footer.html -%}

  {%- include cookie-consent.html -%}

  <script src="{{ '/assets/js/simple-jekyll-search.min.js' | relative_url }}" defer></script>
  <script>
    // Lazy load search - only initialize when user focuses on search input
    window.addEventListener('DOMContentLoaded', function () {
      var searchInput = document.getElementById('search-input');
      var searchInitialized = false;

      function initializeSearch() {
        if (searchInitialized) return;
        searchInitialized = true;

        SimpleJekyllSearch({
          searchInput: searchInput,
          resultsContainer: document.getElementById('results-container'),
          json: '{{ "/search.json" | relative_url }}',
          searchResultTemplate: '<li><a href="{url}">{title}</a></li>',
          noResultsText: 'No results found',
          limit: 10,
          fuzzy: false
        });
      }

      // Initialize on first focus
      if (searchInput) {
        searchInput.addEventListener('focus', initializeSearch, { once: true });
      }
    });
  </script>

</body>

</html>