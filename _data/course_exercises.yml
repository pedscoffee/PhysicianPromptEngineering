# Course Exercise Configurations
# Reworked Curriculum: Beginner -> Structure -> Refinement -> Advanced -> Safety

# ============================================
# MODULE 1: AI CONCEPTS & TERMINOLOGY
# ============================================

module1_exercise1:
  id: "m1e1"
  title: "The 'Hello World' of Prompting"
  module: 1
  difficulty: "beginner"
  estimated_time: "10 minutes"
  transcript: "simple_email_task"
  input_label: "Source Email"
  goal: "Write a simple prompt to summarize a non-medical text"
  instructions: |
    Before we dive into medical notes, let's understand how the AI thinks. You have an email from a practice manager.
    
    Your task: Write a prompt to extract the available meeting times.
    
    This teaches you the basic Input -> Prompt -> Output flow.
  example_good_prompt: |
    Read the email below and list the available meeting times for next week. Format them as a bulleted list.
  rubric:
    criteria:
      - name: "Information Extraction"
        points: 5
        description: "Correctly identifies the available times"
      - name: "Formatting"
        points: 5
        description: "Follows the request for a list"
    total_points: 10
    passing_score: 7

module1_exercise2:
  id: "m1e2"
  title: "Zero-Shot vs Few-Shot"
  module: 1
  difficulty: "beginner"
  estimated_time: "15 minutes"
  transcript: "simple_email_task"
  input_label: "Source Email"
  goal: "Learn how providing examples (few-shot) improves output"
  instructions: |
    "Zero-shot" means asking without examples. "Few-shot" means giving examples.
    
    Task: Write a prompt that turns the email into a JSON object.
    
    First try without an example. Then try providing an example of the JSON format you want.
  example_good_prompt: |
    Extract the meeting availability into a JSON object.
    
    Example format:
    {
      "sender": "Name",
      "availability": [
        {"day": "Monday", "time": "..."}
      ]
    }
    
    Email to process:
  rubric:
    criteria:
      - name: "Structure Definition"
        points: 5
        description: "Defines the desired output structure (JSON)"
      - name: "Example Usage"
        points: 5
        description: "Provides an example or clear schema"
    total_points: 10
    passing_score: 7

module1_exercise3:
  id: "m1e3"
  title: "The Context Window"
  module: 1
  difficulty: "beginner"
  estimated_time: "15 minutes"
  transcript: "outpatient_hypertension_followup"
  input_label: "Patient Transcript"
  goal: "Understand how AI processes information within its context window"
  instructions: |
    The "Context Window" is the amount of text the AI can "see" at once.
    
    Task: Ask the AI to find a specific detail buried in the transcript (e.g., the patient's diet).
    
    This simulates finding a needle in a haystack, a common clinical task.
  example_good_prompt: |
    Based ONLY on the transcript provided, what did the patient say about their diet? Do not make up information.
  rubric:
    criteria:
      - name: "Specific Retrieval"
        points: 5
        description: "Accurately retrieves the requested detail"
      - name: "Hallucination Check"
        points: 5
        description: "Does not invent information not in the text"
    total_points: 10
    passing_score: 7

# ============================================
# MODULE 2: STRUCTURE & SPECIFICITY
# ============================================

module2_exercise1:
  id: "m2e1"
  title: "Your First SOAP Note"
  module: 2
  difficulty: "beginner"
  estimated_time: "15 minutes"
  transcript: "outpatient_hypertension_followup"
  goal: "Create a prompt that generates a basic SOAP note"
  instructions: |
    Now let's apply what we learned to medicine.
    
    Write a prompt that will generate a SOAP note (Subjective, Objective, Assessment, Plan) from the patient transcript.
    
    Your prompt should instruct the AI to:
    - Extract and organize information into SOAP format
    - Use professional medical language
  example_good_prompt: |
    Generate a SOAP note from the following patient encounter transcript. Organize the information into these sections: Subjective (patient's complaints and history), Objective (physical exam findings and vitals), Assessment (diagnosis), and Plan (treatment plan). Use professional medical terminology.
  rubric:
    criteria:
      - name: "Clear structure request"
        points: 4
        description: "Prompt explicitly asks for SOAP format"
      - name: "Completeness"
        points: 3
        description: "Asks for all relevant information to be included"
      - name: "Professional language"
        points: 3
        description: "Requests medical terminology"
    total_points: 10
    passing_score: 7

module2_exercise2:
  id: "m2e2"
  title: "Formatting & Lists"
  module: 2
  difficulty: "beginner"
  estimated_time: "15 minutes"
  transcript: "outpatient_diabetes_new"
  goal: "Improve your prompt with specific formatting requirements"
  instructions: |
    Structure matters for readability.
    
    Task: Create a detailed SOAP note prompt that asks for:
    - Bullet points for the HPI
    - Numbered list for the Plan
    - Specific order for Vitals
  example_good_prompt: |
    Create a SOAP note.
    
    Subjective: Use bullet points for the HPI elements.
    Objective: List vitals first.
    Plan: Provide a numbered list of action items.
  rubric:
    criteria:
      - name: "Specific formatting"
        points: 5
        description: "Includes detailed formatting instructions"
      - name: "List usage"
        points: 5
        description: "Correctly requests bullets/numbering"
    total_points: 10
    passing_score: 7

module2_exercise3:
  id: "m2e3"
  title: "Using Templates"
  module: 2
  difficulty: "intermediate"
  estimated_time: "15 minutes"
  transcript: "urgent_care_ankle_sprain"
  goal: "Create a prompt that produces a consistently formatted note using a template"
  instructions: |
    Templates ensure nothing is missed.
    
    Task: Write a prompt that provides a specific template for the AI to fill in.
    
    Include placeholders like [Patient Name], [Chief Complaint], etc.
  example_good_prompt: |
    Fill in the following SOAP note template based on the patient encounter transcript:
    
    SUBJECTIVE:
    Chief Complaint: [State in patient's words]
    HPI: [Chronological narrative]
    
    OBJECTIVE:
    Vitals: [BP, HR, Temp]
    Exam: [Findings]
    
    ASSESSMENT:
    [Primary diagnosis]
    
    PLAN:
    1. [Treatment]
    2. [Follow-up]
  rubric:
    criteria:
      - name: "Template structure"
        points: 5
        description: "Provides clear template for AI to follow"
      - name: "Completeness"
        points: 5
        description: "Template covers all necessary sections"
    total_points: 10
    passing_score: 7

# ============================================
# MODULE 3: THE ART OF REFINEMENT
# ============================================

module3_exercise1:
  id: "m3e1"
  title: "The 'Too Long' Note"
  module: 3
  difficulty: "intermediate"
  estimated_time: "20 minutes"
  transcript: "bad_soap_note_length"
  input_label: "Draft Note (Too Verbose)"
  goal: "Refine a verbose note into a concise clinical document"
  instructions: |
    AI often writes too much. A key skill is "Refinement" - taking a draft and making it better.
    
    Task: The provided "Draft Note" is accurate but way too wordy. Write a prompt to rewrite it to be concise and professional.
  example_good_prompt: |
    Rewrite the following SOAP note to be concise and professional.
    
    - Remove conversational language (e.g., "He tells me that...").
    - Use standard medical abbreviations.
    - Keep the HPI to relevant medical facts only.
    - Limit the plan to actionable items.
  rubric:
    criteria:
      - name: "Conciseness"
        points: 5
        description: "Successfully reduces word count while keeping facts"
      - name: "Professional Tone"
        points: 5
        description: "Converts conversational text to medical language"
    total_points: 10
    passing_score: 7

module3_exercise2:
  id: "m3e2"
  title: "Fixing Hallucinations"
  module: 3
  difficulty: "advanced"
  estimated_time: "20 minutes"
  transcript: "bad_soap_note_hallucination"
  input_label: "Draft Note (With Errors)"
  goal: "Identify and correct AI hallucinations using the source data"
  instructions: |
    The input contains a "Patient Encounter Summary" (Truth) and an "AI Generated Note" (Draft with errors).
    
    Task: Write a prompt that identifies the discrepancies between the Summary and the Draft, and rewrites the note correctly.
  example_good_prompt: |
    Compare the "Patient Encounter Summary" with the "AI Generated Note".
    
    Identify any hallucinations (medications or findings in the note that are NOT in the summary).
    
    Then, rewrite the note using ONLY the facts from the "Patient Encounter Summary".
  rubric:
    criteria:
      - name: "Error Identification"
        points: 5
        description: "Prompt asks to find/fix the specific errors"
      - name: "Fact Fidelity"
        points: 5
        description: "Rewritten note contains only verified facts"
    total_points: 10
    passing_score: 7

module3_exercise3:
  id: "m3e3"
  title: "Tone Shift"
  module: 3
  difficulty: "intermediate"
  estimated_time: "15 minutes"
  transcript: "bad_soap_note_tone"
  input_label: "Draft Note (Unprofessional)"
  goal: "Change the tone of a note from casual to professional"
  instructions: |
    The draft note is written in very casual, unprofessional language.
    
    Task: Write a prompt to rewrite this into a formal medical record.
  example_good_prompt: |
    Rewrite this note to be a formal medical record.
    
    - Change "Mom brings in..." to "Patient presents with mother..."
    - Replace slang ("super itchy", "gross") with medical terms ("pruritus", "purulent").
    - Maintain a neutral, objective tone.
  rubric:
    criteria:
      - name: "Tone Transformation"
        points: 5
        description: "Successfully shifts from casual to formal"
      - name: "Terminology"
        points: 5
        description: "Uses appropriate medical terminology"
    total_points: 10
    passing_score: 7

# ============================================
# MODULE 4: ADVANCED APPLICATIONS
# ============================================

module4_exercise1:
  id: "m4e1"
  title: "Complex Multi-System"
  module: 4
  difficulty: "advanced"
  estimated_time: "25 minutes"
  transcript: "complex_multisystem"
  goal: "Create a prompt for complex patients with multiple active problems"
  instructions: |
    Complex patients require sophisticated documentation.
    
    Task: Guide the AI to organize multiple active problems and show relationships between conditions.
  example_good_prompt: |
    Create a comprehensive SOAP note. Use problem-oriented documentation in the Assessment & Plan.
    
    List each active problem separately with its own plan. Prioritize acute issues (CHF exacerbation) over chronic ones.
  rubric:
    criteria:
      - name: "Problem organization"
        points: 5
        description: "Clear problem-based structure"
      - name: "Prioritization"
        points: 5
        description: "Acute issues listed first"
    total_points: 10
    passing_score: 7

module4_exercise2:
  id: "m4e2"
  title: "Procedure Documentation"
  module: 4
  difficulty: "advanced"
  estimated_time: "25 minutes"
  transcript: "procedure_colonoscopy"
  goal: "Create a prompt for detailed procedure notes"
  instructions: |
    Procedure notes have specific medical-legal requirements.
    
    Task: Create a prompt that ensures all required elements (Consent, Indications, Findings, Complications) are documented.
  example_good_prompt: |
    Generate a colonoscopy procedure note.
    
    Ensure you include:
    - Indication
    - Informed Consent (risks discussed)
    - Findings (location and size of polyps)
    - Interventions (removal method)
    - Plan (follow-up interval)
  rubric:
    criteria:
      - name: "Completeness"
        points: 5
        description: "All required procedure elements present"
      - name: "Detail"
        points: 5
        description: "Captures specific findings accurately"
    total_points: 10
    passing_score: 7

module4_exercise3:
  id: "m4e3"
  title: "Differential Diagnosis"
  module: 4
  difficulty: "advanced"
  estimated_time: "25 minutes"
  transcript: "er_chest_pain_gerd"
  goal: "Generate documentation showing diagnostic reasoning"
  instructions: |
    Advanced documentation shows your thinking.
    
    Task: Create a prompt that generates a note demonstrating the differential diagnosis considered and why certain things were ruled out.
  example_good_prompt: |
    Create an ED note. In the Assessment, explicitly list the Differential Diagnosis.
    
    For each differential (ACS, GERD, PE), explain why it is less likely based on the evidence (e.g., "Troponin negative", "No SOB").
  rubric:
    criteria:
      - name: "Reasoning"
        points: 5
        description: "Shows thought process and evidence evaluation"
      - name: "Differential"
        points: 5
        description: "Lists relevant differentials"
    total_points: 10
    passing_score: 7


