<!-- Snippet Manager Onboarding Modal -->
<div class="onboarding-overlay" id="snippetManagerOnboarding">
    <div class="onboarding-modal large">
        <button class="onboarding-close" onclick="closeOnboarding('snippetManagerOnboarding')" aria-label="Close">&times;</button>

        <div class="onboarding-content">
            <!-- Progress Dots -->
            <div class="onboarding-progress">
                <span class="onboarding-progress-dot active"></span>
                <span class="onboarding-progress-dot"></span>
                <span class="onboarding-progress-dot"></span>
            </div>

            <!-- Step 1: Welcome -->
            <div class="onboarding-step active">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 3rem; height: 3rem; color: var(--color-primary);">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z" />
                    </svg>
                    <h2 style="margin: 0;">Welcome to Snippet Manager!</h2>
                </div>

                <p style="font-size: 1.1rem; margin-bottom: 1.5rem;">
                    Your personal library for saving, organizing, and managing AI prompts. Keep all your best prompts in one place.
                </p>

                <div class="onboarding-feature-grid">
                    <div class="onboarding-feature">
                        <div class="onboarding-feature-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 2.5rem; height: 2.5rem;">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" />
                            </svg>
                        </div>
                        <h4>100% Private</h4>
                        <p>All snippets stored locally in your browser - no account required</p>
                    </div>
                    <div class="onboarding-feature">
                        <div class="onboarding-feature-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 2.5rem; height: 2.5rem;">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z" />
                                <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6z" />
                            </svg>
                        </div>
                        <h4>Tag & Organize</h4>
                        <p>Add tags, titles, and descriptions to find prompts instantly</p>
                    </div>
                    <div class="onboarding-feature">
                        <div class="onboarding-feature-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 2.5rem; height: 2.5rem;">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z" />
                            </svg>
                        </div>
                        <h4>One-Click Copy</h4>
                        <p>Copy any snippet to your clipboard instantly</p>
                    </div>
                </div>

                <div class="onboarding-actions">
                    <button class="onboarding-btn onboarding-btn-primary" onclick="nextOnboardingStep('snippetManagerOnboarding')">
                        Get Started
                    </button>
                    <button class="onboarding-btn onboarding-btn-text" onclick="completeOnboarding('snippetManagerOnboarding')">
                        Skip tour
                    </button>
                </div>
            </div>

            <!-- Step 2: Creating & Organizing -->
            <div class="onboarding-step">
                <h2>Creating & Organizing Snippets</h2>
                <p>Keep your prompt library organized and easy to navigate:</p>

                <div style="display: grid; gap: 1.5rem; margin: 2rem 0;">
                    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 12px;">
                        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.75rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 2rem; height: 2rem; color: var(--color-primary);">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <h4 style="margin: 0;">Add a New Snippet</h4>
                        </div>
                        <ol style="margin: 0; padding-left: 1.5rem;">
                            <li>Click "Add New Snippet" in the left panel</li>
                            <li>Give it a descriptive title (e.g., "Progress Note Template")</li>
                            <li>Paste or type your prompt in the content area</li>
                            <li>Add tags for easy filtering (e.g., "documentation", "template")</li>
                            <li>Click "Save Snippet"</li>
                        </ol>
                    </div>

                    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 12px;">
                        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.75rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 2rem; height: 2rem; color: var(--color-primary);">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                            </svg>
                            <h4 style="margin: 0;">Find Your Snippets Fast</h4>
                        </div>
                        <ul style="margin: 0; padding-left: 1.5rem;">
                            <li><strong>Sort:</strong> By newest, oldest, alphabetical, or tag</li>
                            <li><strong>Filter:</strong> Select a tag to show only matching snippets</li>
                            <li><strong>Search:</strong> Use the search bar to find specific prompts</li>
                        </ul>
                    </div>

                    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 12px;">
                        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.75rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 2rem; height: 2rem; color: var(--color-primary);">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
                            </svg>
                            <h4 style="margin: 0;">Edit & Copy</h4>
                        </div>
                        <ul style="margin: 0; padding-left: 1.5rem;">
                            <li>Click any snippet card to see full content</li>
                            <li>Use "Copy" button to copy to clipboard instantly</li>
                            <li>Click "Edit" to modify title, tags, or content</li>
                            <li>Click "Delete" to remove snippets you no longer need</li>
                        </ul>
                    </div>
                </div>

                <div style="background: #e8f4f8; padding: 1.5rem; border-radius: 12px; border: 2px solid var(--color-primary);">
                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 1.75rem; height: 1.75rem; color: var(--color-primary);">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18" />
                        </svg>
                        <p style="margin: 0; font-weight: 600; color: var(--color-primary);">
                            Pro Tip: Use Descriptive Tags
                        </p>
                    </div>
                    <p style="margin: 0;">
                        Create tags like "H&P", "discharge", "consult", "teaching" to organize your snippets by use case. You can add multiple tags to each snippet!
                    </p>
                </div>

                <div class="onboarding-actions">
                    <button class="onboarding-btn onboarding-btn-secondary" onclick="prevOnboardingStep('snippetManagerOnboarding')">
                        Back
                    </button>
                    <button class="onboarding-btn onboarding-btn-primary" onclick="nextOnboardingStep('snippetManagerOnboarding')">
                        Continue
                    </button>
                </div>
            </div>

            <!-- Step 3: Export/Import & Privacy -->
            <div class="onboarding-step">
                <h2>Export, Import & Privacy</h2>

                <div style="background: #e8f4f8; border: 2px solid var(--color-primary); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem;">
                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 2rem; height: 2rem; color: var(--color-primary);">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" />
                        </svg>
                        <h4 style="margin: 0; color: var(--color-primary);">Your Privacy Matters</h4>
                    </div>
                    <p style="margin: 0;">
                        All snippets are stored <strong>locally in your browser</strong>. Nothing is sent to any server. No account needed, no tracking, completely private.
                    </p>
                </div>

                <div style="display: grid; gap: 1.5rem; margin: 2rem 0;">
                    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 12px;">
                        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.75rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 2rem; height: 2rem; color: var(--color-primary);">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5" />
                            </svg>
                            <h4 style="margin: 0;">Export Your Snippets</h4>
                        </div>
                        <p style="margin: 0 0 0.5rem 0; color: #7f8c8d;">Click the "Export" button to download all your snippets as a JSON file.</p>
                        <ul style="margin: 0; padding-left: 1.5rem; color: #7f8c8d;">
                            <li>Create backups of your prompt library</li>
                            <li>Save to cloud storage (Dropbox, Google Drive, etc.)</li>
                            <li>Share with colleagues or other devices</li>
                        </ul>
                    </div>

                    <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 12px;">
                        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 0.75rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 2rem; height: 2rem; color: var(--color-primary);">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
                            </svg>
                            <h4 style="margin: 0;">Import Snippets</h4>
                        </div>
                        <p style="margin: 0 0 0.5rem 0; color: #7f8c8d;">Click "Import" and select a JSON file to restore your snippets.</p>
                        <ul style="margin: 0; padding-left: 1.5rem; color: #7f8c8d;">
                            <li>Move snippets between devices easily</li>
                            <li>Restore from backup if you clear browser data</li>
                            <li>Share snippet collections with your team</li>
                        </ul>
                    </div>
                </div>

                <h4 style="margin-bottom: 1rem;">Quick Tips:</h4>
                <ul style="font-size: 1.05rem; margin-bottom: 2rem;">
                    <li>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 1.25rem; height: 1.25rem; display: inline-block; vertical-align: middle; margin-right: 0.5rem; color: var(--color-primary);">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <strong>Export regularly:</strong> Create weekly backups to protect your work
                    </li>
                    <li>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 1.25rem; height: 1.25rem; display: inline-block; vertical-align: middle; margin-right: 0.5rem; color: var(--color-primary);">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <strong>Use multiple tags:</strong> Makes filtering more powerful
                    </li>
                    <li>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 1.25rem; height: 1.25rem; display: inline-block; vertical-align: middle; margin-right: 0.5rem; color: var(--color-primary);">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <strong>Clear titles:</strong> Use descriptive names so you can find prompts quickly
                    </li>
                    <li>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 1.25rem; height: 1.25rem; display: inline-block; vertical-align: middle; margin-right: 0.5rem; color: var(--color-primary);">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <strong>Clean up old snippets:</strong> Delete prompts you no longer use
                    </li>
                </ul>

                <div style="text-align: center; background: linear-gradient(135deg, var(--color-primary) 0%, #0066aa 100%); color: white; padding: 2rem; border-radius: 12px;">
                    <h3 style="margin-top: 0; color: white;">Ready to Build Your Prompt Library?</h3>
                    <p style="margin-bottom: 0; opacity: 0.9;">Start saving your best prompts and never lose a good prompt again!</p>
                </div>

                <div class="onboarding-actions">
                    <button class="onboarding-btn onboarding-btn-secondary" onclick="prevOnboardingStep('snippetManagerOnboarding')">
                        Back
                    </button>
                    <button class="onboarding-btn onboarding-btn-primary" onclick="completeOnboarding('snippetManagerOnboarding')">
                        Create First Snippet
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Initialize snippet manager onboarding when page loads
document.addEventListener('DOMContentLoaded', function() {
    OnboardingSystem.init('snippetManagerOnboarding', {
        totalSteps: 3,
        localStorageKey: 'ppe_snippet_manager_completed',
        showOnce: true,
        delay: 800, // Show after 800ms
        onComplete: function() {
            console.log('Snippet Manager onboarding completed');
        }
    });
});
</script>
