<!-- SEO Optimization -->
{% if page.title %}
  {% assign seo_title = page.title | append: " | " | append: site.title %}
{% elsif page.description %}
  {% assign seo_title = page.description | append: " | " | append: site.title %}
{% else %}
  {% assign seo_title = site.title | append: " - " | append: site.description %}
{% endif %}

{% assign seo_description = page.description | default: page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape %}

{% if page.image %}
  {% assign seo_image = page.image %}
{% else %}
  {% assign seo_image = "/images/physician_prompt_engineering.jpg" %}
{% endif %}

{% assign seo_url = page.url | replace:'index.html','' | absolute_url %}

<!-- Primary Meta Tags -->
<title>{{ seo_title }}</title>
<meta name="title" content="{{ seo_title }}">
<meta name="description" content="{{ seo_description }}">
<meta name="keywords" content="AI documentation, clinical prompts, physician AI, EMR automation, medical scribe AI, LLM prompts, healthcare AI, clinical documentation, prompt engineering, medical AI, physician burnout, Epic AI, clinical efficiency">
<meta name="author" content="{{ site.title }}">
<meta name="robots" content="index, follow">
<link rel="canonical" href="{{ seo_url }}">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="{{ seo_url }}">
<meta property="og:title" content="{{ seo_title }}">
<meta property="og:description" content="{{ seo_description }}">
<meta property="og:image" content="{{ seo_image | absolute_url }}">
<meta property="og:site_name" content="{{ site.title }}">
<meta property="og:locale" content="en_US">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="{{ seo_url }}">
<meta property="twitter:title" content="{{ seo_title }}">
<meta property="twitter:description" content="{{ seo_description }}">
<meta property="twitter:image" content="{{ seo_image | absolute_url }}">

<!-- Structured Data (JSON-LD) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "{{ site.title }}",
  "description": "{{ site.description }}",
  "url": "{{ site.url }}",
  "publisher": {
    "@type": "Organization",
    "name": "{{ site.title }}",
    "url": "{{ site.url }}",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ '/images/physician_prompt_engineering.jpg' | absolute_url }}"
    }
  },
  "potentialAction": {
    "@type": "SearchAction",
    "target": "{{ site.url }}/search?q={search_term_string}",
    "query-input": "required name=search_term_string"
  },
  "sameAs": [
    "https://github.com/pedscoffee/PhysicianPromptEngineering/",
    "https://pedscoffee.substack.com"
  ]
}
</script>

{% if page.layout == "post" or page.layout == "page" %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "{{ page.title | escape }}",
  "description": "{{ seo_description }}",
  "image": "{{ seo_image | absolute_url }}",
  "datePublished": "{{ page.date | date_to_xmlschema }}",
  "dateModified": "{{ page.last_modified_at | default: page.date | date_to_xmlschema }}",
  "author": {
    "@type": "Organization",
    "name": "{{ site.title }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "{{ site.title }}",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ '/images/physician_prompt_engineering.jpg' | absolute_url }}"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ seo_url }}"
  }
}
</script>
{% endif %}

{% if page.layout == "prompt-library" or page.collection == "prompts" %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SoftwareSourceCode",
  "name": "{{ page.title | default: 'Clinical AI Prompt Library' }}",
  "description": "{{ seo_description }}",
  "codeRepository": "https://github.com/pedscoffee/PhysicianPromptEngineering/",
  "programmingLanguage": "Prompt Engineering",
  "runtimePlatform": "EMR Systems with AI Integration",
  "license": "https://opensource.org/licenses/MIT",
  "author": {
    "@type": "Organization",
    "name": "{{ site.title }}"
  }
}
</script>
{% endif %}

<!-- Additional SEO Headers -->
<meta name="theme-color" content="#047857">
<meta name="msapplication-TileColor" content="#047857">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<!-- Preconnect to external domains for performance -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preconnect" href="https://www.google-analytics.com">

<!-- DNS Prefetch -->
<link rel="dns-prefetch" href="https://fonts.googleapis.com">
<link rel="dns-prefetch" href="https://www.google-analytics.com">
